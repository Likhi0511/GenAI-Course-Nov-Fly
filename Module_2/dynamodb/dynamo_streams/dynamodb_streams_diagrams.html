<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DynamoDB Streams Visual Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .diagram-container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #232F3E;
        }
        .diagram-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #FF9900;
        }
    </style>
</head>
<body>
    <h1>DynamoDB Streams Visual Guide</h1>

    <!-- Diagram 1: DynamoDB Streams Architecture -->
    <div class="diagram-container">
        <div class="diagram-title">1. DynamoDB Streams Architecture Flow</div>
        <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <style>
                    .table-box { fill: #E8F4F8; stroke: #232F3E; stroke-width: 2; }
                    .stream-box { fill: #FFE6CC; stroke: #FF9900; stroke-width: 2; }
                    .consumer-box { fill: #D5F4E6; stroke: #1E8449; stroke-width: 2; }
                    .component { fill: white; stroke: #232F3E; stroke-width: 2; }
                    .text { font-family: Arial; font-size: 14px; fill: #232F3E; }
                    .title { font-family: Arial; font-size: 16px; font-weight: bold; fill: #232F3E; }
                    .small { font-family: Arial; font-size: 12px; fill: #666; }
                    .arrow { stroke: #FF9900; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
                    .operation { fill: #FF9900; stroke: #232F3E; stroke-width: 1; }
                </style>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#FF9900" />
                </marker>
            </defs>

            <!-- Title -->
            <text x="600" y="30" class="title" text-anchor="middle" font-size="20">DynamoDB Streams - End-to-End Flow</text>

            <!-- DynamoDB Table Layer -->
            <rect x="50" y="60" width="1100" height="150" class="table-box" rx="5"/>
            <text x="70" y="90" class="title">DynamoDB Table</text>
            
            <!-- Items in table -->
            <rect x="100" y="110" width="150" height="60" class="component" rx="3"/>
            <text x="175" y="135" class="text" text-anchor="middle">Item 1</text>
            <text x="175" y="155" class="small" text-anchor="middle">ProductID: PROD-001</text>
            
            <rect x="280" y="110" width="150" height="60" class="component" rx="3"/>
            <text x="355" y="135" class="text" text-anchor="middle">Item 2</text>
            <text x="355" y="155" class="small" text-anchor="middle">ProductID: PROD-002</text>
            
            <rect x="460" y="110" width="150" height="60" class="component" rx="3"/>
            <text x="535" y="135" class="text" text-anchor="middle">Item 3</text>
            <text x="535" y="155" class="small" text-anchor="middle">ProductID: PROD-003</text>
            
            <rect x="640" y="110" width="150" height="60" class="component" rx="3"/>
            <text x="715" y="135" class="text" text-anchor="middle">Item 4</text>
            <text x="715" y="155" class="small" text-anchor="middle">ProductID: PROD-004</text>

            <!-- Operations -->
            <ellipse cx="175" cy="190" rx="35" ry="20" class="operation"/>
            <text x="175" y="195" class="small" text-anchor="middle" fill="white">INSERT</text>
            
            <ellipse cx="355" cy="190" rx="35" ry="20" class="operation"/>
            <text x="355" y="195" class="small" text-anchor="middle" fill="white">MODIFY</text>
            
            <ellipse cx="535" cy="190" rx="35" ry="20" class="operation"/>
            <text x="535" y="195" class="small" text-anchor="middle" fill="white">DELETE</text>
            
            <ellipse cx="715" cy="190" rx="35" ry="20" class="operation"/>
            <text x="715" y="195" class="small" text-anchor="middle" fill="white">UPDATE</text>

            <!-- Arrows to stream -->
            <path d="M 175 210 L 175 250" class="arrow"/>
            <path d="M 355 210 L 355 250" class="arrow"/>
            <path d="M 535 210 L 535 250" class="arrow"/>
            <path d="M 715 210 L 715 250" class="arrow"/>

            <!-- DynamoDB Stream Layer -->
            <rect x="50" y="250" width="1100" height="200" class="stream-box" rx="5"/>
            <text x="70" y="280" class="title" fill="#FF9900">DynamoDB Stream (24-hour retention)</text>
            
            <!-- Shards -->
            <rect x="100" y="300" width="300" height="120" fill="white" stroke="#FF9900" stroke-width="2" rx="3"/>
            <text x="250" y="325" class="title" text-anchor="middle">Shard 1</text>
            <text x="250" y="345" class="small" text-anchor="middle">Partition Key Range: A-G</text>
            
            <!-- Stream records in shard 1 -->
            <rect x="120" y="360" width="120" height="45" fill="#FFF5E6" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="180" y="378" class="small" text-anchor="middle">Record 1</text>
            <text x="180" y="392" class="small" text-anchor="middle" fill="#666">INSERT</text>
            
            <rect x="260" y="360" width="120" height="45" fill="#FFF5E6" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="320" y="378" class="small" text-anchor="middle">Record 2</text>
            <text x="320" y="392" class="small" text-anchor="middle" fill="#666">MODIFY</text>
            
            <!-- Shard 2 -->
            <rect x="450" y="300" width="300" height="120" fill="white" stroke="#FF9900" stroke-width="2" rx="3"/>
            <text x="600" y="325" class="title" text-anchor="middle">Shard 2</text>
            <text x="600" y="345" class="small" text-anchor="middle">Partition Key Range: H-P</text>
            
            <rect x="470" y="360" width="120" height="45" fill="#FFF5E6" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="530" y="378" class="small" text-anchor="middle">Record 3</text>
            <text x="530" y="392" class="small" text-anchor="middle" fill="#666">REMOVE</text>
            
            <!-- Shard 3 -->
            <rect x="800" y="300" width="300" height="120" fill="white" stroke="#FF9900" stroke-width="2" rx="3"/>
            <text x="950" y="325" class="title" text-anchor="middle">Shard 3</text>
            <text x="950" y="345" class="small" text-anchor="middle">Partition Key Range: Q-Z</text>
            
            <rect x="820" y="360" width="120" height="45" fill="#FFF5E6" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="880" y="378" class="small" text-anchor="middle">Record 4</text>
            <text x="880" y="392" class="small" text-anchor="middle" fill="#666">MODIFY</text>

            <!-- Arrows to consumers -->
            <path d="M 250 420 L 250 480" class="arrow"/>
            <path d="M 600 420 L 600 480" class="arrow"/>
            <path d="M 950 420 L 950 480" class="arrow"/>

            <!-- Stream Consumers Layer -->
            <rect x="50" y="480" width="1100" height="280" class="consumer-box" rx="5"/>
            <text x="70" y="510" class="title" fill="#1E8449">Stream Consumers</text>
            
            <!-- Consumer 1: Lambda Analytics -->
            <rect x="100" y="530" width="200" height="200" class="component" rx="5"/>
            <text x="200" y="560" class="title" text-anchor="middle">Lambda Function</text>
            <text x="200" y="580" class="text" text-anchor="middle">Real-Time Analytics</text>
            <rect x="120" y="600" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="200" y="620" class="small" text-anchor="middle">‚ñ∏ Calculate metrics</text>
            <rect x="120" y="640" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="200" y="660" class="small" text-anchor="middle">‚ñ∏ Update dashboard</text>
            <rect x="120" y="680" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="200" y="700" class="small" text-anchor="middle">‚ñ∏ Send alerts</text>
            
            <!-- Consumer 2: Lambda Replication -->
            <rect x="350" y="530" width="200" height="200" class="component" rx="5"/>
            <text x="450" y="560" class="title" text-anchor="middle">Lambda Function</text>
            <text x="450" y="580" class="text" text-anchor="middle">Cross-Region Replica</text>
            <rect x="370" y="600" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="450" y="620" class="small" text-anchor="middle">‚ñ∏ Replicate to US-West</text>
            <rect x="370" y="640" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="450" y="660" class="small" text-anchor="middle">‚ñ∏ Disaster recovery</text>
            <rect x="370" y="680" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="450" y="700" class="small" text-anchor="middle">‚ñ∏ Low latency reads</text>
            
            <!-- Consumer 3: Kinesis Firehose -->
            <rect x="600" y="530" width="200" height="200" class="component" rx="5"/>
            <text x="700" y="560" class="title" text-anchor="middle">Kinesis Firehose</text>
            <text x="700" y="580" class="text" text-anchor="middle">Data Lake Pipeline</text>
            <rect x="620" y="600" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="700" y="620" class="small" text-anchor="middle">‚ñ∏ Stream to S3</text>
            <rect x="620" y="640" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="700" y="660" class="small" text-anchor="middle">‚ñ∏ Archive data</text>
            <rect x="620" y="680" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="700" y="700" class="small" text-anchor="middle">‚ñ∏ Analytics queries</text>
            
            <!-- Consumer 4: Custom App -->
            <rect x="850" y="530" width="200" height="200" class="component" rx="5"/>
            <text x="950" y="560" class="title" text-anchor="middle">Custom Consumer</text>
            <text x="950" y="580" class="text" text-anchor="middle">Audit Logger</text>
            <rect x="870" y="600" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="950" y="620" class="small" text-anchor="middle">‚ñ∏ Track all changes</text>
            <rect x="870" y="640" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="950" y="660" class="small" text-anchor="middle">‚ñ∏ Compliance logs</text>
            <rect x="870" y="680" width="160" height="30" fill="#E8F4F8" rx="2"/>
            <text x="950" y="700" class="small" text-anchor="middle">‚ñ∏ Security alerts</text>

            <!-- Info box -->
            <rect x="50" y="770" width="1100" height="20" fill="#F0F0F0" rx="3"/>
            <text x="600" y="785" class="small" text-anchor="middle">‚ö° Near real-time processing ‚Ä¢ üì¶ Exactly-once delivery ‚Ä¢ ‚è∞ 24-hour retention ‚Ä¢ üîÑ Automatic shard management</text>
        </svg>
    </div>

    <!-- Diagram 2: Stream View Types Comparison -->
    <div class="diagram-container">
        <div class="diagram-title">2. Stream View Types - What Data is Captured</div>
        <svg viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
            <text x="600" y="30" class="title" text-anchor="middle" font-size="20">Stream View Types Comparison</text>

            <!-- Original Item -->
            <rect x="50" y="60" width="1100" height="100" fill="#F9F9F9" stroke="#232F3E" stroke-width="2" rx="5"/>
            <text x="70" y="90" class="title">Example: Updating Product Price</text>
            
            <rect x="100" y="110" width="200" height="30" fill="#FADBD8" stroke="#922B21" stroke-width="1" rx="2"/>
            <text x="200" y="130" class="text" text-anchor="middle">OLD: Price = $299</text>
            
            <text x="320" y="130" class="text" text-anchor="middle" font-size="24">‚Üí</text>
            
            <rect x="360" y="110" width="200" height="30" fill="#D5F4E6" stroke="#1E8449" stroke-width="1" rx="2"/>
            <text x="460" y="130" class="text" text-anchor="middle">NEW: Price = $279</text>

            <!-- View Type 1: KEYS_ONLY -->
            <rect x="50" y="200" width="260" height="180" fill="#FFF5E6" stroke="#FF9900" stroke-width="2" rx="5"/>
            <text x="180" y="230" class="title" text-anchor="middle" fill="#FF9900">1. KEYS_ONLY</text>
            
            <text x="70" y="260" class="text" font-weight="bold">Captures:</text>
            <rect x="70" y="270" width="220" height="60" fill="white" stroke="#666" stroke-width="1" rx="2"/>
            <text x="180" y="295" class="text" text-anchor="middle">Keys:</text>
            <text x="180" y="315" class="small" text-anchor="middle">ProductID: "PROD-001"</text>
            
            <text x="70" y="350" class="small" font-weight="bold">‚úì Smallest size</text>
            <text x="70" y="365" class="small">‚úó No data values</text>

            <!-- View Type 2: NEW_IMAGE -->
            <rect x="330" y="200" width="260" height="180" fill="#E6F3FF" stroke="#4A90E2" stroke-width="2" rx="5"/>
            <text x="460" y="230" class="title" text-anchor="middle" fill="#4A90E2">2. NEW_IMAGE</text>
            
            <text x="350" y="260" class="text" font-weight="bold">Captures:</text>
            <rect x="350" y="270" width="220" height="60" fill="white" stroke="#666" stroke-width="1" rx="2"/>
            <text x="460" y="285" class="small" text-anchor="middle">ProductID: "PROD-001"</text>
            <text x="460" y="300" class="small" text-anchor="middle">Name: "Laptop"</text>
            <text x="460" y="315" class="small" text-anchor="middle" fill="#1E8449" font-weight="bold">Price: 279 (NEW)</text>
            
            <text x="350" y="350" class="small" font-weight="bold">‚úì Current state</text>
            <text x="350" y="365" class="small">‚úó Can't see old value</text>

            <!-- View Type 3: OLD_IMAGE -->
            <rect x="610" y="200" width="260" height="180" fill="#FCF3CF" stroke="#B7950B" stroke-width="2" rx="5"/>
            <text x="740" y="230" class="title" text-anchor="middle" fill="#B7950B">3. OLD_IMAGE</text>
            
            <text x="630" y="260" class="text" font-weight="bold">Captures:</text>
            <rect x="630" y="270" width="220" height="60" fill="white" stroke="#666" stroke-width="1" rx="2"/>
            <text x="740" y="285" class="small" text-anchor="middle">ProductID: "PROD-001"</text>
            <text x="740" y="300" class="small" text-anchor="middle">Name: "Laptop"</text>
            <text x="740" y="315" class="small" text-anchor="middle" fill="#922B21" font-weight="bold">Price: 299 (OLD)</text>
            
            <text x="630" y="350" class="small" font-weight="bold">‚úì Previous state</text>
            <text x="630" y="365" class="small">‚úó Can't see new value</text>

            <!-- View Type 4: NEW_AND_OLD_IMAGES -->
            <rect x="890" y="200" width="260" height="180" fill="#E8F4F8" stroke="#1E8449" stroke-width="2" rx="5"/>
            <text x="1020" y="230" class="title" text-anchor="middle" fill="#1E8449">4. NEW_AND_OLD_IMAGES</text>
            
            <text x="910" y="260" class="text" font-weight="bold">Captures:</text>
            <rect x="910" y="270" width="220" height="90" fill="white" stroke="#666" stroke-width="1" rx="2"/>
            <text x="1020" y="285" class="small" text-anchor="middle" font-weight="bold">OLD IMAGE:</text>
            <text x="1020" y="300" class="small" text-anchor="middle" fill="#922B21">Price: 299</text>
            <text x="1020" y="320" class="small" text-anchor="middle" font-weight="bold">NEW IMAGE:</text>
            <text x="1020" y="335" class="small" text-anchor="middle" fill="#1E8449">Price: 279</text>
            <text x="1020" y="350" class="small" text-anchor="middle" fill="#FF9900">‚ñ≥ = -$20</text>
            
            <text x="910" y="370" class="small" font-weight="bold">‚úì Complete picture</text>

            <!-- Use Cases -->
            <rect x="50" y="410" width="1100" height="260" fill="#F9F9F9" stroke="#232F3E" stroke-width="2" rx="5"/>
            <text x="600" y="440" class="title" text-anchor="middle">When to Use Each View Type</text>
            
            <!-- Use case 1 -->
            <rect x="80" y="460" width="240" height="190" fill="white" stroke="#666" stroke-width="1" rx="3"/>
            <text x="200" y="485" class="text" text-anchor="middle" font-weight="bold">KEYS_ONLY</text>
            <text x="90" y="510" class="small">‚úì Simple notifications</text>
            <text x="90" y="530" class="small">‚úì Counting operations</text>
            <text x="90" y="550" class="small">‚úì Triggering workflows</text>
            <text x="90" y="570" class="small">‚úì Lowest cost</text>
            <rect x="90" y="590" width="220" height="50" fill="#FFF5E6" rx="2"/>
            <text x="200" y="615" class="small" text-anchor="middle" fill="#666">Example: Send email when</text>
            <text x="200" y="630" class="small" text-anchor="middle" fill="#666">new user registers</text>
            
            <!-- Use case 2 -->
            <rect x="340" y="460" width="240" height="190" fill="white" stroke="#666" stroke-width="1" rx="3"/>
            <text x="460" y="485" class="text" text-anchor="middle" font-weight="bold">NEW_IMAGE</text>
            <text x="350" y="510" class="small">‚úì Data replication</text>
            <text x="350" y="530" class="small">‚úì Search indexing</text>
            <text x="350" y="550" class="small">‚úì Cache updates</text>
            <text x="350" y="570" class="small">‚úì Most common choice</text>
            <rect x="350" y="590" width="220" height="50" fill="#E6F3FF" rx="2"/>
            <text x="460" y="615" class="small" text-anchor="middle" fill="#666">Example: Update ElasticSearch</text>
            <text x="460" y="630" class="small" text-anchor="middle" fill="#666">with latest product data</text>
            
            <!-- Use case 3 -->
            <rect x="600" y="460" width="240" height="190" fill="white" stroke="#666" stroke-width="1" rx="3"/>
            <text x="720" y="485" class="text" text-anchor="middle" font-weight="bold">OLD_IMAGE</text>
            <text x="610" y="510" class="small">‚úì Audit trails</text>
            <text x="610" y="530" class="small">‚úì Deleted item tracking</text>
            <text x="610" y="550" class="small">‚úì Rollback operations</text>
            <text x="610" y="570" class="small">‚úì Historical snapshots</text>
            <rect x="610" y="590" width="220" height="50" fill="#FCF3CF" rx="2"/>
            <text x="720" y="615" class="small" text-anchor="middle" fill="#666">Example: Archive deleted</text>
            <text x="720" y="630" class="small" text-anchor="middle" fill="#666">records to S3</text>
            
            <!-- Use case 4 -->
            <rect x="860" y="460" width="240" height="190" fill="white" stroke="#666" stroke-width="1" rx="3"/>
            <text x="980" y="485" class="text" text-anchor="middle" font-weight="bold">NEW_AND_OLD_IMAGES</text>
            <text x="870" y="510" class="small">‚úì Change data capture (CDC)</text>
            <text x="870" y="530" class="small">‚úì Delta processing</text>
            <text x="870" y="550" class="small">‚úì Detailed audit logs</text>
            <text x="870" y="570" class="small">‚úì Complex business logic</text>
            <rect x="870" y="590" width="220" height="50" fill="#E8F4F8" rx="2"/>
            <text x="980" y="615" class="small" text-anchor="middle" fill="#666">Example: Calculate price</text>
            <text x="980" y="630" class="small" text-anchor="middle" fill="#666">change percentage</text>
        </svg>
    </div>

    <!-- Diagram 3: Stream Processing Pattern -->
    <div class="diagram-container">
        <div class="diagram-title">3. Lambda Event Source Mapping - Processing Pattern</div>
        <svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
            <text x="500" y="30" class="title" text-anchor="middle" font-size="20">How Lambda Processes DynamoDB Streams</text>

            <!-- Stream -->
            <rect x="50" y="60" width="900" height="120" class="stream-box" rx="5"/>
            <text x="70" y="90" class="title" fill="#FF9900">DynamoDB Stream Shards</text>
            
            <!-- Shard records -->
            <rect x="80" y="110" width="80" height="50" fill="white" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="120" y="140" class="small" text-anchor="middle">Rec 1</text>
            
            <rect x="170" y="110" width="80" height="50" fill="white" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="210" y="140" class="small" text-anchor="middle">Rec 2</text>
            
            <rect x="260" y="110" width="80" height="50" fill="white" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="300" y="140" class="small" text-anchor="middle">Rec 3</text>
            
            <text x="360" y="140" class="text">...</text>
            
            <rect x="400" y="110" width="80" height="50" fill="white" stroke="#FF9900" stroke-width="1" rx="2"/>
            <text x="440" y="140" class="small" text-anchor="middle">Rec N</text>

            <!-- Batch indicator -->
            <path d="M 75 100 L 485 100 L 485 170 L 75 170 Z" stroke="#FF9900" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
            <text x="280" y="190" class="text" fill="#FF9900" text-anchor="middle">Batch (up to 100 records)</text>

            <!-- Arrow -->
            <path d="M 280 180 L 280 220" class="arrow"/>

            <!-- Lambda Invocation -->
            <rect x="150" y="220" width="260" height="140" class="consumer-box" rx="5"/>
            <text x="280" y="250" class="title" text-anchor="middle" fill="#1E8449">Lambda Invocation</text>
            
            <rect x="170" y="270" width="220" height="30" fill="white" rx="2"/>
            <text x="280" y="290" class="small" text-anchor="middle">1. Receive batch of records</text>
            
            <rect x="170" y="310" width="220" height="30" fill="white" rx="2"/>
            <text x="280" y="330" class="small" text-anchor="middle">2. Process each record</text>
            
            <!-- Success/Failure paths -->
            <path d="M 200 360 L 150 400" stroke="#1E8449" stroke-width="2" fill="none"/>
            <path d="M 360 360 L 410 400" stroke="#E74C3C" stroke-width="2" fill="none"/>

            <!-- Success path -->
            <rect x="50" y="400" width="200" height="100" fill="#D5F4E6" stroke="#1E8449" stroke-width="2" rx="5"/>
            <text x="150" y="430" class="title" text-anchor="middle" fill="#1E8449">‚úì Success</text>
            <text x="60" y="455" class="small">‚Ä¢ Delete from stream</text>
            <text x="60" y="475" class="small">‚Ä¢ Move to next batch</text>
            <text x="60" y="495" class="small">‚Ä¢ No retry needed</text>

            <!-- Failure path -->
            <rect x="270" y="400" width="240" height="100" fill="#FADBD8" stroke="#E74C3C" stroke-width="2" rx="5"/>
            <text x="390" y="430" class="title" text-anchor="middle" fill="#E74C3C">‚úó Failure</text>
            <text x="280" y="455" class="small">‚Ä¢ Retry with exponential backoff</text>
            <text x="280" y="475" class="small">‚Ä¢ Up to MaxRetries (default: 3)</text>
            <text x="280" y="495" class="small">‚Ä¢ Then send to DLQ</text>

            <!-- Configuration panel -->
            <rect x="530" y="220" width="420" height="280" fill="#F0F0F0" stroke="#232F3E" stroke-width="2" rx="5"/>
            <text x="740" y="250" class="title" text-anchor="middle">Event Source Mapping Config</text>
            
            <text x="550" y="280" class="text" font-weight="bold">BatchSize:</text>
            <text x="750" y="280" class="text">1 - 100 records</text>
            <text x="550" y="295" class="small" fill="#666">Process up to 100 records per invocation</text>
            
            <text x="550" y="320" class="text" font-weight="bold">MaxBatchingWindow:</text>
            <text x="750" y="320" class="text">0 - 300 seconds</text>
            <text x="550" y="335" class="small" fill="#666">Wait time to fill batch before invoking</text>
            
            <text x="550" y="360" class="text" font-weight="bold">ParallelizationFactor:</text>
            <text x="750" y="360" class="text">1 - 10</text>
            <text x="550" y="375" class="small" fill="#666">Number of concurrent shard processors</text>
            
            <text x="550" y="400" class="text" font-weight="bold">MaxRetryAttempts:</text>
            <text x="750" y="400" class="text">0 - 10,000</text>
            <text x="550" y="415" class="small" fill="#666">Retry failed batches up to N times</text>
            
            <text x="550" y="440" class="text" font-weight="bold">MaxRecordAge:</text>
            <text x="750" y="440" class="text">60 - 604,800 sec</text>
            <text x="550" y="455" class="small" fill="#666">Discard records older than this</text>
            
            <text x="550" y="480" class="text" font-weight="bold">BisectBatchOnError:</text>
            <text x="750" y="480" class="text">true / false</text>
            <text x="550" y="495" class="small" fill="#666">Split batch in half on error for retry</text>

            <!-- Timeline -->
            <rect x="50" y="530" width="900" height="150" fill="white" stroke="#232F3E" stroke-width="2" rx="5"/>
            <text x="500" y="560" class="title" text-anchor="middle">Processing Timeline Example</text>
            
            <!-- Timeline visualization -->
            <line x1="100" y1="600" x2="900" y2="600" stroke="#666" stroke-width="2"/>
            
            <!-- Event markers -->
            <circle cx="150" cy="600" r="8" fill="#1E8449"/>
            <text x="150" y="630" class="small" text-anchor="middle">t=0s</text>
            <text x="150" y="645" class="small" text-anchor="middle">Receive batch</text>
            
            <circle cx="350" cy="600" r="8" fill="#4A90E2"/>
            <text x="350" y="630" class="small" text-anchor="middle">t=2s</text>
            <text x="350" y="645" class="small" text-anchor="middle">Processing...</text>
            
            <circle cx="550" cy="600" r="8" fill="#1E8449"/>
            <text x="550" y="630" class="small" text-anchor="middle">t=5s</text>
            <text x="550" y="645" class="small" text-anchor="middle">Success</text>
            
            <circle cx="750" cy="600" r="8" fill="#E74C3C"/>
            <text x="750" y="630" class="small" text-anchor="middle">t=10s</text>
            <text x="750" y="645" class="small" text-anchor="middle">Error ‚Üí Retry</text>
        </svg>
    </div>

</body>
</html>
