# =============================================================================
# RAY DOCUMENT PIPELINE — REQUIREMENTS (CLEANED)
# =============================================================================
# Python 3.12 — rayproject/ray:2.53.0-py312-cpu base image
# ray[default] already in base image — not listed to avoid redundant reinstall
#
# Removed 15 unused packages after auditing all source files:
#   pydantic-settings, requests, httpx, rich, scipy, scikit-learn,
#   beautifulsoup4, unstructured, python-docx, python-pptx, openpyxl,
#   pymupdf, pypdf, pdf2image, structlog
# =============================================================================

# ── AWS ───────────────────────────────────────────────────────────────────────
boto3==1.42.5

# ── Document processing ───────────────────────────────────────────────────────
docling                  # PDF extraction, layout detection, table structure
pandas                   # Table → Markdown conversion in docling_bounded_extractor.py
tabulate                 # Required by pandas .to_markdown()

# ── AI / ML ───────────────────────────────────────────────────────────────────
openai                   # Enrichment, embeddings, GPT-4o image descriptions

# ── Vector database ───────────────────────────────────────────────────────────
pinecone==8.0.0

# ── Images ───────────────────────────────────────────────────────────────────
pillow                   # PIL Image used in docling_bounded_extractor.py

# ── Retry ────────────────────────────────────────────────────────────────────
tenacity                 # Retry logic in openai_embeddings.py
tqdm                     # Progress loop in openai_embeddings.py embedding batch

# ── Utilities ────────────────────────────────────────────────────────────────
python-dotenv            # .env loading for local development
pydantic>=2.8.0          # Type validation (used indirectly via config/models)